{% extends 'base.html' %}
{% load static %}
{% block content %}

<header class="header">
  <div class="container">
    <div class="header-content">
      
      <!-- Logo -->
      <a href="/" class="logo">
        <div class="logo-icon">DT</div>
        <div class="logo-text">
          <h1>Dangi Traders</h1>
          <p>सब कुछ एक ही जगह</p>
        </div>
      </a>

      <!-- Desktop Nav -->
      <nav class="nav-desktop">
        <a href="{% url 'customer_homepage' %}" class="nav-link">Home</a>
        <a href="{% url 'about' %}" class="nav-link active">About</a>

        <div class="dropdown">
          <a href="{% url 'all_products' %}" class="nav-link dropdown-toggle">
            Products <i class="fas fa-chevron-down"></i>
          </a>
          <div class="dropdown-menu">
            <a href="{% url 'grocery' %}">Grocery</a>
            <a href="{% url 'fertilizers' %}">Fertilizers</a>
            <a href="{% url 'animal_feed' %}">Animal Feed</a>
            <a href="{% url 'storage_bags' %}">Storage Bags</a>
          </div>
        </div>

        <a href="{% url 'contact' %}" class="nav-link">Contact</a>
      </nav>

      <!-- Search -->
      <form action="{% url 'all_products' %}" method="get" class="search-form">
        <input type="text" name="search" placeholder="Search for products..." />
        <button type="submit">Search</button>
      </form>

      <!-- Icons -->
      <a href="{% url 'cart' %}" class="cart-icon">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count">3</span>
      </a>

      <div class="user-menu">
        {% if user.is_authenticated %}
          <a href="{% url 'profile_view' %}" class="user-icon"><i class="fas fa-user"></i></a>
        {% else %}
          <a href="{% url 'login' %}" class="user-icon"><i class="fas fa-user"></i> Login</a>
        {% endif %}
      </div>

      <!-- Mobile Menu Button -->
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
      </button>
    </div>

    <!-- Mobile Nav -->
    <div class="mobile-menu" id="mobileMenu">
      <a href="{% url 'customer_homepage' %}">Home</a>
      <a href="{% url 'about' %}">About</a>
      <a href="{% url 'all_products' %}">Products</a>
      <a href="{% url 'contact' %}">Contact</a>
      <a href="{% url 'cart' %}"><i class="fas fa-shopping-cart"></i> Cart (3)</a>
      <a href="{% url 'login' %}"><i class="fas fa-user"></i> Login</a>
    </div>
  </div>
</header>

<style>
/* Layout */
.header {
  background: #fff;
  border-bottom: 1px solid #eee;
  position: sticky;
  top: 0;
  z-index: 1000;
}
.header-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 25px;
  padding: 12px 20px;
}

/* Logo */
.logo {
  display: flex;
  align-items: center;
  gap: 10px;
  text-decoration: none;
}
.logo-icon {
  background:  #28a745;
  color: #fff;
  font-weight: bold;
  padding: 10px;
  border-radius: 8px;
}
.logo-text h1 {
  margin: 0;
  font-size: 20px;
  color: #28a745;
}
.logo-text p {
  font-size: 12px;
  color: gray;
  margin: 0;
}

/* Nav */
.nav-desktop {
  display: flex;
  align-items: center;
  gap: 25px;
}
.nav-link {
  color: #1E3A8A;
  text-decoration: none;
  font-weight: 500;
}
.nav-link.active,
.nav-link:hover {
  color: #28a745;
}

/* Dropdown */
.dropdown-menu {
  display: none;
  position: absolute;
  background: #fff;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  margin-top: 8px;
  border-radius: 6px;
}
.dropdown:hover .dropdown-menu {
  display: block;
}

/* Search */
.search-form {
  display: flex;
  align-items: center;
  border: 1px solid #ccc;
  border-radius: 30px;
  overflow: hidden;
}
.search-form input {
  border: none;
  padding: 8px 12px;
  outline: none;
  flex: 1;
}
.search-form button {
  background: #28a745;
  color: white;
  border: none;
  padding: 8px 16px;
  cursor: pointer;
  transition: 0.3s;
}
.search-form button:hover {
  background: #218838;
}

/* Cart & User */
.cart-icon {
  position: relative;
  font-size: 20px;
  color: #1E3A8A;
}
.cart-count {
  position: absolute;
  top: -8px;
  right: -10px;
  background: #28a745;
  color: white;
  font-size: 12px;
  border-radius: 50%;
  padding: 2px 6px;
}

/* Mobile */
.mobile-menu-btn {
  display: none;
  background: none;
  border: none;
  font-size: 22px;
  cursor: pointer;
}
.mobile-menu {
  display: none;
  flex-direction: column;
  gap: 15px;
  background: #f9f9f9;
  padding: 20px;
  animation: slideDown 0.3s ease-in-out;
}
.mobile-menu a {
  text-decoration: none;
  color: #1E3A8A;
  font-weight: 500;
}

/* Animation */
@keyframes slideDown {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}

/* Responsive */
@media (max-width: 992px) {
  .nav-desktop,
  .search-form {
    display: none;
  }
  .mobile-menu-btn {
    display: block;
  }
}
</style>

<script>
document.getElementById("mobileMenuBtn").addEventListener("click", function(){
  document.getElementById("mobileMenu").classList.toggle("show");
});
</script>

{% endblock %}
