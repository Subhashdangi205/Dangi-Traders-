{% extends "base.html" %}
{% load static %}
{% block content %}
{% include "customerheader.html" %}
<h1 style="text-align:center; margin-bottom:20px;">Storage Bags Products</h1>

<div style="
    display:flex; 
    flex-wrap:wrap; 
    gap:20px; 
    justify-content:center; 
    padding:10px;
">
    {% for product in products %}
        <div style="
            flex:1 1 calc(25% - 20px); 
            max-width:250px; 
            min-width:180px;
            border:1px solid #ddd; 
            border-radius:12px; 
            padding:15px; 
            text-align:center; 
            box-shadow:0 4px 12px rgba(0,0,0,0.1);
            transition:transform 0.2s;
        "
        onmouseover="this.style.transform='scale(1.05)'"
        onmouseout="this.style.transform='scale(1)'">
            
            <!-- Corrected: product not products -->
            <img src="{{ product.image.url|default:'/static/default.jpg' }}" 
                 alt="{{ product.name }}" 
                 style="width:150px; height:150px; object-fit:cover; margin-bottom:12px; border-radius:8px;">
            
            <h3 style="font-size:16px; margin:8px 0;">{{ product.name }}</h3>
            <p style="margin:5px 0;"><b>Price:</b> â‚¹{{ product.price }}</p>
            <p style="margin:5px 0;"><b>Stock:</b> {{ product.stock }}</p>
            
            <a href="{% url 'add_to_cart' product.id %}" 
               style="
                   display:inline-block; 
                   margin-top:12px; 
                   padding:10px 18px; 
                   background:linear-gradient(90deg, #28a745, #218838); 
                   color:#fff; 
                   border-radius:8px; 
                   text-decoration:none; 
                   font-weight:600; 
                   font-size:14px;
                   transition:background 0.3s;
               "
               onmouseover="this.style.background='#1e7e34'"
               onmouseout="this.style.background='linear-gradient(90deg, #28a745, #218838)'">
               Add to Cart
            </a>
        </div>
    {% empty %}
        <p style="text-align:center; font-size:18px; margin-top:20px;">No storage bags available.</p>
    {% endfor %}
</div>

<!-- Responsive tweaks -->
<style>
@media (max-width: 992px) {
    div[style*="flex:1 1 calc(25% - 20px)"] {
        flex: 1 1 calc(33.33% - 20px);
    }
}
@media (max-width: 768px) {
    div[style*="flex:1 1 calc(25% - 20px)"] {
        flex: 1 1 calc(50% - 20px);
    }
}
@media (max-width: 480px) {
    div[style*="flex:1 1 calc(25% - 20px)"] {
        flex: 1 1 100%;
    }
}
</style>

{% endblock %}
